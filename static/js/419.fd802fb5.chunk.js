"use strict";(self.webpackChunkdev_log=self.webpackChunkdev_log||[]).push([[419],{3895:function(e,n,t){t.r(n);var o,r=t(2950),i=t.n(r),c=t(2181),a=t.n(c),s=t(168),d=t(6335),u=t(4708),l=t(3076),h=t(5662),f=t(5978),T=t(7541),x=t(6563),p=t.n(x),E=(t(5462),t(8954),t(1413)),g=t(9406),C=t(3473),m=t.n(C),_="http://jingeuns.ml/api",O=new d.ApolloClient({cache:new d.InMemoryCache,uri:"".concat(_,"/graphql")}),v=(0,d.createHttpLink)({uri:"".concat(_,"/blogs")}),j=(0,g.v)((function(e,n){var t=n.headers,o=m().get("token")||"";return{headers:(0,E.Z)((0,E.Z)({},t),{},{authorization:o?"Bearer ".concat(o):""})}})),Z=new d.ApolloClient({cache:new d.InMemoryCache,link:j.concat(v)}),S=new T.QueryClient,y={},D=t(1532),w=t(8690),k=t(9672),R=t.n(k),L=t(7757),b=t.n(L),A=t(5384),F=t(7780),U=t(4942),I=t(3144),H=t(5671),z=t(136),P=t(3668),Q=t(6760),Y=t.n(Q),B=t(6385),K=t(1629),W=b().mark(ee),M=b().mark(ne),$=b().mark(te),q=b().mark(oe),N=b().mark(re),G="toods",J="http://jingeuns.ml/api",V={TRY_FETCH_TODO_LIST:"".concat(G,"/TRY_FETCH_TODO_LIST"),REQUEST_FETCH_TODO_LIST:"".concat(G,"/REQUEST_FETCH_TODO_LIST"),SUCCESS_FETCH_TODO_LIST:"".concat(G,"/SUCCESS_FETCH_TODO_LIST"),FAILURE_FETCH_TODO_LIST:"".concat(G,"/FAILURE_FETCH_TODO_LIST"),TRY_CHECK_TODO:"".concat(G,"/TRY_CHECK_TODO"),REQUEST_CHECK_TODO:"".concat(G,"/REQUEST_CHECK_TODO"),SUCCESS_CHECK_TODO:"".concat(G,"/SUCCESS_CHECK_TODO"),FAILURE_CHECK_TODO:"".concat(G,"/FAILURE_CHECK_TODO"),TRY_CREATE_TODO:"".concat(G,"/TRY_CREATE_TODO"),REQUEST_CREATE_TODO:"".concat(G,"/REQUEST_CREATE_TODO"),SUCCESS_CREATE_TODO:"".concat(G,"/SUCCESS_CREATE_TODO"),FAILURE_CREATE_TODO:"".concat(G,"/FAILURE_CREATE_TODO"),TRY_DELETE_TODO:"".concat(G,"/TRY_DELETE_TODO"),REQUEST_DELETE_TODO:"".concat(G,"/REQUEST_DELETE_TODO"),SUCCESS_DELETE_TODO:"".concat(G,"/SUCCESS_DELETE_TODO"),FAILURE_DELETE_TODO:"".concat(G,"/FAILURE_DELETE_TODO")},X={fetchTodoList:(0,K.createAction)(V.TRY_FETCH_TODO_LIST),checkTodo:(0,K.createAction)(V.TRY_CHECK_TODO),createTodo:(0,K.createAction)(V.TRY_CREATE_TODO),deleteTodo:(0,K.createAction)(V.TRY_DELETE_TODO)};function ee(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F.Fm)(V.TRY_FETCH_TODO_LIST,ne);case 2:return e.next=4,(0,F.Fm)(V.TRY_CHECK_TODO,te);case 4:return e.next=6,(0,F.Fm)(V.TRY_CREATE_TODO,oe);case 6:return e.next=8,(0,F.Fm)(V.TRY_DELETE_TODO,re);case 8:case"end":return e.stop()}}),W)}function ne(){var e,n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,F.gz)({type:V.REQUEST_FETCH_TODO_LIST});case 3:return t.next=5,(0,F.RE)((function(){return Y().get("".concat(J,"/todos"),{headers:{Authorization:"Bearer ".concat(m().get("token")||"")}}).then((function(e){if(e.status>=200&&e.status<300)return e;throw e})).then((function(e){return e.data})).catch((function(e){return e}))}));case 5:return e=t.sent,n={rows:(0,B.List)(e.map((function(e){return new ie(e)}))),count:e.length},t.next=9,(0,F.gz)({type:V.SUCCESS_FETCH_TODO_LIST,payload:n});case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,(0,F.gz)({type:V.FAILURE_FETCH_TODO_LIST});case 15:case"end":return t.stop()}}),M,null,[[0,11]])}function te(e){var n,t,o;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,F.gz)({type:V.REQUEST_CHECK_TODO});case 3:return r.next=5,(0,F.RE)((function(){return Y().put("".concat(J,"/todos/check/").concat(e.payload),{},{headers:{Authorization:"Bearer ".concat(m().get("token")||"")}}).then((function(e){if(e.status>=200&&e.status<300)return e;throw e})).catch((function(e){return Promise.reject(e)}))}));case 5:return r.next=7,(0,F.Ys)();case 7:return n=r.sent,t=n.TodosReducer.get("todoList"),o=t.findIndex((function(n){return n.get("id")===e.payload})),r.next=12,(0,F.gz)({type:V.SUCCESS_CHECK_TODO,payload:{index:o}});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,(0,F.gz)({type:V.FAILURE_CHECK_TODO});case 18:case"end":return r.stop()}}),$,null,[[0,14]])}function oe(e){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,F.gz)({type:V.REQUEST_CREATE_TODO});case 3:return n.next=5,(0,F.RE)((function(){return Y().post("".concat(J,"/todos"),{text:e.payload},{headers:{Authorization:"Bearer ".concat(m().get("token")||"")}}).then((function(e){if(e.status>=200&&e.status<300)return e;throw e})).catch((function(e){return Promise.reject(e)}))}));case 5:return n.next=7,(0,F.gz)({type:V.SUCCESS_CREATE_TODO});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,(0,F.gz)({type:V.FAILURE_CREATE_TODO});case 13:case"end":return n.stop()}}),q,null,[[0,9]])}function re(e){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,F.gz)({type:V.REQUEST_DELETE_TODO});case 3:return n.next=5,(0,F.RE)((function(){return Y().delete("".concat(J,"/todos/").concat(e.payload),{headers:{Authorization:"Bearer ".concat(m().get("token")||"")}}).then((function(e){if(e.status>=200&&e.status<300)return e;throw e})).catch((function(e){return Promise.reject(e)}))}));case 5:return n.next=7,(0,F.gz)({type:V.SUCCESS_DELETE_TODO});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,(0,F.gz)({type:V.FAILURE_DELETE_TODO});case 13:case"end":return n.stop()}}),N,null,[[0,9]])}var ie=function(e){(0,z.Z)(t,e);var n=(0,P.Z)(t);function t(e){return(0,H.Z)(this,t),e&&(e.isChecked="T"===((null===e||void 0===e?void 0:e.isChecked)||"")),n.call(this,e)}return(0,I.Z)(t)}((0,B.Record)({id:0,text:"",isChecked:!1,createdAt:0,lastModifiedAt:0})),ce=function(e){(0,z.Z)(t,e);var n=(0,P.Z)(t);function t(){return(0,H.Z)(this,t),n.apply(this,arguments)}return(0,I.Z)(t)}((0,B.Record)({fetchTodoListActionType:"",isFetchingTodoList:!1,todoList:(0,B.List)(),todoListCount:0,checkTodoActionType:"",isCheckingTodo:!1,isCheckedTodo:!1,createTodoActionType:"",isCreatingTodo:!1,isCreatedTodo:!1,deleteTodoActionType:"",isDeletingTodo:!1,isDeletedTodo:!1})),ae=new ce,se=(0,K.handleActions)((o={},(0,U.Z)(o,V.REQUEST_FETCH_TODO_LIST,(function(e,n){return e.set("fetchTodoListActionType",n.type).set("isFetchingTodoList",!0)})),(0,U.Z)(o,V.SUCCESS_FETCH_TODO_LIST,(function(e,n){return e.set("fetchTodoListActionType",n.type).set("isFetchingTodoList",!1).set("todoList",n.payload.rows).set("todoListCount",n.payload.count)})),(0,U.Z)(o,V.FAILURE_FETCH_TODO_LIST,(function(e,n){return e.set("fetchTodoListActionType",n.type).set("isFetchingTodoList",!1)})),(0,U.Z)(o,V.REQUEST_CHECK_TODO,(function(e,n){return e.set("checkTodoActionType",n.type).set("isCheckingTodo",!0).set("isCheckedTodo",!1)})),(0,U.Z)(o,V.SUCCESS_CHECK_TODO,(function(e,n){return e.set("checkTodoActionType",n.type).set("isCheckingTodo",!1).set("isCheckedTodo",!0).updateIn(["todoList",n.payload.index,"isChecked"],(function(e){return!e}))})),(0,U.Z)(o,V.FAILURE_CHECK_TODO,(function(e,n){return e.set("checkTodoActionType",n.type).set("isCheckingTodo",!1).set("isCheckedTodo",!1)})),(0,U.Z)(o,V.REQUEST_CREATE_TODO,(function(e,n){return e.set("createTodoActionType",n.type).set("isCreatingTodo",!0).set("isCreatedTodo",!1)})),(0,U.Z)(o,V.SUCCESS_CREATE_TODO,(function(e,n){return e.set("createTodoActionType",n.type).set("isCreatingTodo",!1).set("isCreatedTodo",!0)})),(0,U.Z)(o,V.FAILURE_CREATE_TODO,(function(e,n){return e.set("createTodoActionType",n.type).set("isCreatingTodo",!1).set("isCreatedTodo",!1)})),(0,U.Z)(o,V.REQUEST_DELETE_TODO,(function(e,n){return e.set("deleteTodoActionType",n.type).set("isDeletingTodo",!0).set("isDeletedTodo",!1)})),(0,U.Z)(o,V.SUCCESS_DELETE_TODO,(function(e,n){return e.set("deleteTodoActionType",n.type).set("isDeletingTodo",!1).set("isDeletedTodo",!0)})),(0,U.Z)(o,V.FAILURE_DELETE_TODO,(function(e,n){return e.set("deleteTodoActionType",n.type).set("isDeletingTodo",!1).set("isDeletedTodo",!1)})),o),ae),de=b().mark(ue);function ue(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F.rM)(ee);case 2:case"end":return e.stop()}}),de)}var le=(0,A.combineReducers)({TodosReducer:se}),he=((0,w.createLogger)(),R()()),fe=[he];var Te=(0,D.configureStore)({reducer:le,middleware:fe,devTools:false});he.run(ue);var xe,pe,Ee,ge,Ce,me,_e,Oe,ve,je,Ze,Se,ye,De,we,ke,Re,Le,be,Ae,Fe,Ue,Ie,He,ze,Pe=Te,Qe=t(6445),Ye=t(184),Be=p()(Qe.Z)(xe||(xe=(0,s.Z)(["\n  flex: 0 0 90px;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n"]))),Ke=function(e){var n=e.children;return(0,Ye.jsx)(Be,{maxWidth:!1,children:n})},We=p()(Qe.Z)(pe||(pe=(0,s.Z)(["\n  flex: 1 1 auto;\n  display: flex;\n  flex-flow: column nowrap;\n"]))),Me=function(e){var n=e.children;return(0,Ye.jsx)(We,{maxWidth:!1,children:n})},$e=p()(Qe.Z)(Ee||(Ee=(0,s.Z)(["\n  flex: 0 0 auto;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n  min-height: 40px;\n"]))),qe=function(e){var n=e.children;return(0,Ye.jsx)($e,{maxWidth:!1,children:n})},Ne=t(890),Ge=t(3060),Je=function(){return(0,Ye.jsxs)(Ne.Z,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",(0,Ye.jsx)(Ge.Z,{color:"inherit",href:"https://jingeunee.github.io/dev-log",children:"https://jingeunee.github.io/dev-log"})," ",(new Date).getFullYear(),"."]})},Ve=t(2169),Xe=t(9504),en=t(3044),nn=t(3400),tn=t(2898),on=t(7621),rn=t(9585),cn=t(1889),an=(0,d.gql)(ge||(ge=(0,s.Z)(["\n  query {\n    getList {\n      id\n      title\n      body\n      thumbnail\n      createdAt\n      updatedAt\n      user {\n        id\n        name\n        email\n        image\n      }\n    }\n  }\n"]))),sn=t.p+"static/media/empty-image.5ddd75740f03a77a82d0.png",dn=t(1554),un=t(6624),ln=function(){return(0,Ye.jsx)(dn.Z,{variant:"indeterminate",disableShrink:!0,size:20,thickness:4,sx:(0,U.Z)({color:"#1a90ff",animationDuration:"550ms"},"& .".concat(un.Z.circle),{strokeLinecap:"round"})})},hn=p()(on.Z)(Ce||(Ce=(0,s.Z)(["\n  width: 370px;\n  height: 350px;\n  margin: 5px;\n  padding: 0;\n"]))),fn=function(){var e=function(){var e=(0,d.useQuery)(an,{client:Z,fetchPolicy:"network-only"}),n=e.loading,t=e.error,o=e.data;return{isLoading:n,data:(null===o||void 0===o?void 0:o.getList)||[],error:t}}(),n=e.isLoading,t=e.data;return n?(0,Ye.jsx)(ln,{}):(0,Ye.jsx)(cn.ZP,{container:!0,children:t.map((function(e,n){var t,o,r=(null===(t=e.user)||void 0===t?void 0:t.image)||"",i=(null===(o=e.user)||void 0===o?void 0:o.name)||"",c=i.slice(0,1);return(0,Ye.jsxs)(hn,{elevation:3,variant:"elevation",children:[(0,Ye.jsx)(rn.Z,{avatar:(0,Ye.jsx)(en.Z,{src:r,alt:i,children:c}),action:(0,Ye.jsx)(nn.Z,{"aria-label":"settings",children:(0,Ye.jsx)(tn.Z,{})}),title:e.title,subheader:e.createdAt}),(0,Ye.jsx)(Ve.Z,{component:"img",alt:"green iguana",height:"170",style:{objectFit:"contain"},image:sn,title:"thumbnail"}),(0,Ye.jsx)(Xe.Z,{children:(0,Ye.jsx)(Ne.Z,{variant:"body2",color:"textSecondary",component:"p",children:e.body})})]},e.id)}))})},Tn=t(5861),xn=t(885),pn=t(6151),En=t(7283),gn=t(7322),Cn=t.n(gn),mn=function(e){var n=e.setEditorInstance,t=(0,r.useState)(null),o=(0,xn.Z)(t,2),i=o[0],c=o[1];return(0,r.useEffect)((function(){var e=new(Cn())({el:document.querySelector("#editor"),height:"600px",initialEditType:"markdown",previewStyle:"vertical"});c(e)}),[]),(0,r.useEffect)((function(){i&&n(i)}),[i,n]),(0,Ye.jsx)("div",{id:"editor"})},_n=(0,d.gql)(me||(me=(0,s.Z)(["\n  mutation create($title: String!, $body: String!, $thumbnail: String!) {\n    create(\n      createBlogData: { title: $title, body: $body, thumbnail: $thumbnail }\n    ) {\n      id\n    }\n  }\n"]))),On=p()(Qe.Z)(_e||(_e=(0,s.Z)(["\n  display: flex;\n  flex-flow: column nowrap;\n\n  .actionGroup {\n    flex: 0 0 auto;\n\n    .saveBtn {\n      display: flex;\n      margin-left: auto;\n    }\n  }\n  .editorWrap {\n    flex: 1 1 auto;\n  }\n"]))),vn=function(){var e=function(){var e,n=(0,d.useMutation)(_n,{client:Z}),t=(0,xn.Z)(n,2),o=t[0],r=t[1],i=r.loading,c=r.error,a=r.data;return{onCreate:function(e,n,t){o({variables:{title:e,body:n,thumbnail:t}})},isLoading:i,isCreated:!(null===a||void 0===a||null===(e=a.create)||void 0===e||!e.id),error:c}}(),n=e.onCreate,t=e.isLoading,o=e.isCreated,i=(0,h.useHistory)().push,c=(0,r.useState)(""),a=(0,xn.Z)(c,2),s=a[0],u=a[1],l=(0,r.useState)(null),f=(0,xn.Z)(l,2),T=f[0],x=f[1];return(0,r.useEffect)((function(){o&&(0,Tn.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,200)}));case 2:i("/");case 3:case"end":return e.stop()}}),e)})))()}),[o,i]),(0,Ye.jsxs)(On,{maxWidth:!1,children:[(0,Ye.jsx)("div",{className:"actionGroup",children:(0,Ye.jsx)(pn.Z,{className:"saveBtn",variant:"contained",disabled:t,onClick:function(){s&&T&&n(s,T.getMarkdown(),sn)},children:t?(0,Ye.jsx)(ln,{}):"\uc800\uc7a5"})}),(0,Ye.jsx)("div",{children:(0,Ye.jsx)(En.Z,{placeholder:"\uc81c\ubaa9",fullWidth:!0,margin:"normal",value:s,onChange:function(e){u(e.currentTarget.value)}})}),(0,Ye.jsx)("div",{className:"editorWrap",children:(0,Ye.jsx)(mn,{setEditorInstance:function(e){x(e)}})})]})},jn=p()(Qe.Z)(Oe||(Oe=(0,s.Z)(["\n  /* background-color: #eee; */\n  flex: 1 1 auto;\n"]))),Zn=p()(Qe.Z)(ve||(ve=(0,s.Z)(["\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n"]))),Sn=function(){return(0,Ye.jsx)(jn,{maxWidth:!1,children:(0,Ye.jsxs)(Zn,{maxWidth:"lg",children:[(0,Ye.jsx)("h1",{children:"Blogs"}),(0,Ye.jsxs)(h.Switch,{children:[(0,Ye.jsx)(h.Route,{path:"/register",component:vn}),(0,Ye.jsx)(h.Route,{path:"/",component:fn})]})]})})},yn=t(7246),Dn=t(1974),wn=t(493),kn=t(4852),Rn=t(9900),Ln=t(872),bn=t(8937),An=t(7247),Fn=p()(kn.ZP)(je||(je=(0,s.Z)(["\n  border-bottom: solid 1px #eee;\n"]))),Un=p()(Rn.Z)(Ze||(Ze=(0,s.Z)(["\n  text-decoration: line-through;\n  color: #ccc;\n"]))),In=function(e){var n=e.index,t=e.id,o=e.isChecked,i=e.text,c=e.moveTodo,a=(0,l.useDispatch)(),s=(0,r.useState)(!1),d=(0,xn.Z)(s,2),u=d[0],h=d[1],f=(0,r.useState)(!1),T=(0,xn.Z)(f,2),x=T[0],p=T[1],E=(0,r.useRef)(null),g=(0,yn.useDrop)({accept:"card",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var o;if(E.current&&c){var r=e.index,i=n;if(r!==i){var a=null===(o=E.current)||void 0===o?void 0:o.getBoundingClientRect(),s=(a.bottom-a.top)/2,d=t.getClientOffset().y-a.top;r<i&&d<s||r>i&&d>s||(c(r,i),e.index=i)}}}}),C=(0,xn.Z)(g,2),m=C[0].handlerId,_=C[1],O=(0,yn.useDrag)({type:"card",item:function(){return{id:t,index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),v=(0,xn.Z)(O,2),j=v[0].isDragging,Z=v[1];(0,r.useEffect)((function(){return function(){h(!1),p(!1)}}),[]);var S=j?0:1;return Z(_(E)),(0,Ye.jsxs)(Fn,{"data-handler-id":m,ref:E,style:{border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white",cursor:"move",opacity:S},children:[o?(0,Ye.jsx)(Un,{children:i}):(0,Ye.jsx)(Rn.Z,{children:i}),(0,Ye.jsx)(nn.Z,{size:"small",disabled:u,onClick:function(){h(!0),a(X.checkTodo(t))},children:u?(0,Ye.jsx)(ln,{}):o?(0,Ye.jsx)(Ln.Z,{}):(0,Ye.jsx)(bn.Z,{})}),(0,Ye.jsx)(nn.Z,{size:"small",onClick:function(){p(!0),a(X.deleteTodo(t))},children:x?(0,Ye.jsx)(ln,{}):(0,Ye.jsx)(An.Z,{})})]})},Hn=p()(wn.Z)(Se||(Se=(0,s.Z)(["\n  display: flex;\n  flex-flow: column nowrap;\n  max-width: 400px;\n  width: 100%;\n"]))),zn=function(){var e=(0,l.useSelector)((function(e){return e.TodosReducer.get("todoList").filter((function(e){return!e.get("isChecked")}))})),n=function(e,n){console.log(e,n)};return(0,Ye.jsx)(Hn,{sx:{bgcolor:"background.paper"},dense:!0,children:e.map((function(e,t){var o=e.get("id"),r=e.get("isChecked"),i=e.get("text");return(0,Ye.jsx)(In,{index:t,id:o,isChecked:r,text:i,moveTodo:n},"row-".concat(o))}))})},Pn=t(4554),Qn=p()(Pn.Z)(ye||(ye=(0,s.Z)(["\n  display: flex;\n  max-width: 400px;\n  width: 100%;\n  padding-bottom: 10px;\n  border-bottom: solid 1px #eee;\n"]))),Yn=p()(En.Z)(De||(De=(0,s.Z)(["\n  flex: 1 1 auto;\n"]))),Bn=p()(pn.Z)(we||(we=(0,s.Z)(["\n  flex: 0 0 auto;\n  margin-left: 5px;\n"]))),Kn=function(){var e=(0,r.useState)(""),n=(0,xn.Z)(e,2),t=n[0],o=n[1],i=(0,l.useSelector)((function(e){return e.TodosReducer.get("isCreatingTodo")})),c=(0,l.useDispatch)();return(0,Ye.jsxs)(Qn,{component:"form",onSubmit:function(e){e.preventDefault(),t?(c(X.createTodo(t)),o("")):f.toast.warn("\ud560\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694.")},children:[(0,Ye.jsx)(Yn,{variant:"outlined",size:"small",value:t,onChange:function(e){return o(e.currentTarget.value)}}),(0,Ye.jsx)(Bn,{type:"submit",variant:"contained",size:"small",disabled:i,children:i?(0,Ye.jsx)(ln,{}):"\ucd94\uac00"})]})},Wn=p()(kn.ZP)(ke||(ke=(0,s.Z)(["\n  border-bottom: solid 1px #eee;\n"]))),Mn=p()(Rn.Z)(Re||(Re=(0,s.Z)(["\n  text-decoration: line-through;\n  color: #ccc;\n"]))),$n=function(e){e.index;var n=e.id,t=e.isChecked,o=e.text,i=(e.moveTodo,(0,l.useDispatch)()),c=(0,r.useState)(!1),a=(0,xn.Z)(c,2),s=a[0],d=a[1],u=(0,r.useState)(!1),h=(0,xn.Z)(u,2),f=h[0],T=h[1];return(0,r.useEffect)((function(){return function(){d(!1),T(!1)}}),[]),(0,Ye.jsxs)(Wn,{children:[t?(0,Ye.jsx)(Mn,{children:o}):(0,Ye.jsx)(Rn.Z,{children:o}),(0,Ye.jsx)(nn.Z,{size:"small",disabled:s,onClick:function(){d(!0),i(X.checkTodo(n))},children:s?(0,Ye.jsx)(ln,{}):t?(0,Ye.jsx)(Ln.Z,{}):(0,Ye.jsx)(bn.Z,{})}),(0,Ye.jsx)(nn.Z,{size:"small",onClick:function(){T(!0),i(X.deleteTodo(n))},children:f?(0,Ye.jsx)(ln,{}):(0,Ye.jsx)(An.Z,{})})]})},qn=p()(wn.Z)(Le||(Le=(0,s.Z)(["\n  display: flex;\n  flex-flow: column nowrap;\n  max-width: 400px;\n  width: 100%;\n\n  margin-top: 20px;\n"]))),Nn=function(){var e=(0,l.useSelector)((function(e){return e.TodosReducer.get("todoList").filter((function(e){return e.get("isChecked")}))}));return 0===e.size?null:(0,Ye.jsxs)(qn,{sx:{bgcolor:"background.paper"},dense:!0,children:["\uc644\ub8cc\ub41c \ub9ac\uc2a4\ud2b8",e.map((function(e,n){var t=e.get("id"),o=e.get("isChecked"),r=e.get("text");return(0,Ye.jsx)($n,{index:n,id:t,isChecked:o,text:r},"completed-row-".concat(t))}))]})},Gn=p()(Qe.Z)(be||(be=(0,s.Z)(["\n  /* background-color: #eee; */\n  flex: 1 1 auto;\n"]))),Jn=p()(Qe.Z)(Ae||(Ae=(0,s.Z)(["\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n"]))),Vn=function(){return function(){var e=(0,l.useDispatch)(),n=(0,l.useSelector)((function(e){return e.TodosReducer.get("isCheckedTodo")})),t=(0,l.useSelector)((function(e){return e.TodosReducer.get("isCreatedTodo")})),o=(0,l.useSelector)((function(e){return e.TodosReducer.get("isDeletedTodo")}));(0,r.useEffect)((function(){e(X.fetchTodoList())}),[e]),(0,r.useEffect)((function(){n&&e(X.fetchTodoList())}),[e,n]),(0,r.useEffect)((function(){t&&e(X.fetchTodoList())}),[e,t]),(0,r.useEffect)((function(){o&&e(X.fetchTodoList())}),[e,o])}(),(0,Ye.jsx)(Gn,{maxWidth:!1,children:(0,Ye.jsxs)(Jn,{maxWidth:"lg",children:[(0,Ye.jsx)("h1",{children:"Todos"}),(0,Ye.jsxs)(yn.DndProvider,{backend:Dn.HTML5Backend,children:[(0,Ye.jsx)(Kn,{}),(0,Ye.jsx)(zn,{}),(0,Ye.jsx)(Nn,{})]})]})})},Xn=t(3767),et=t(3208),nt=t(703),tt=t(5892),ot=t(3903),rt=t(5028),it="0bf67285a716ffa036b887d46f154d59",ct="https://jingeunee.github.io/dev-log/oauth/callback/kakao",at=void 0===it?"":it,st=void 0===ct?"":ct,dt=p()(Qe.Z)(Fe||(Fe=(0,s.Z)(["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  background-color: #212529;\n\n  color: white;\n  padding: 0;\n"]))),ut=p()(Qe.Z)(Ue||(Ue=(0,s.Z)(["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n\n  @media screen and (max-width: 768px) {\n    flex-flow: column nowrap;\n  }\n"]))),lt=p().div(Ie||(Ie=(0,s.Z)(["\n  flex: 0 0 auto;\n"]))),ht=p().div(He||(He=(0,s.Z)(["\n  margin-left: auto;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n\n  @media screen and (max-width: 768px) {\n    margin-left: unset;\n    width: 100%;\n  }\n"]))),ft=p().div(ze||(ze=(0,s.Z)(["\n  flex: 0 0 auto;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  margin-right: 20px;\n\n  & > * {\n    margin: 0 10px;\n    text-decoration: none;\n    color: inherit;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"]))),Tt=function(){var e=(0,h.useHistory)(),n=function(){var e=(0,r.useState)(!1),n=(0,xn.Z)(e,2),t=n[0],o=n[1],i=(0,r.useState)(""),c=(0,xn.Z)(i,2),a=c[0],s=c[1];return(0,r.useEffect)((function(){var e=m().get("token")||"";e&&Y().get("".concat("http://jingeuns.ml/api","/user/me"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){o(!0),s(e.data.name)})).catch((function(e){return console.log(e)}))}),[]),{isFetchedMe:t,username:a}}(),t=n.isFetchedMe,o=n.username,i=(0,r.useState)(!1),c=(0,xn.Z)(i,2),a=c[0],s=c[1],d=(0,r.useRef)(null),u=function(e){d.current&&d.current.contains(e.target)||s(!1)};function l(e){"Tab"===e.key?(e.preventDefault(),s(!1)):"Escape"===e.key&&s(!1)}var f=function(n){e.push("/register"),u(n)},T=(0,r.useRef)(a);return(0,r.useEffect)((function(){!0===T.current&&!1===a&&d.current.focus(),T.current=a}),[a]),(0,Ye.jsx)(dt,{maxWidth:!1,children:(0,Ye.jsxs)(ut,{maxWidth:"lg",children:[(0,Ye.jsx)(lt,{children:(0,Ye.jsx)(pn.Z,{variant:"text",color:"inherit",onClick:function(){return window.location.href="/dev-log/"},children:(0,Ye.jsx)("h1",{children:"\uc815\uc9c4\uadfc\uc758 Dev Log"})})}),(0,Ye.jsxs)(ht,{children:[(0,Ye.jsxs)(ft,{children:[(0,Ye.jsx)(h.Link,{to:"/",color:"inherit",children:(0,Ye.jsx)("h3",{children:"Blogs"})}),(0,Ye.jsx)(h.Link,{to:"/todos",color:"inherit",children:(0,Ye.jsx)("h3",{children:"Todos"})})]}),t?(0,Ye.jsxs)("h4",{style:{marginLeft:"auto",color:"yellow"},children:[(0,Ye.jsxs)(pn.Z,{ref:d,id:"composition-button","aria-controls":a?"composition-menu":void 0,"aria-expanded":a?"true":void 0,"aria-haspopup":"true",color:"inherit",onClick:function(){s((function(e){return!e}))},children:["Hello, ",o,"!"]}),(0,Ye.jsx)(tt.Z,{open:a,anchorEl:d.current,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,children:function(e){var n=e.TransitionProps,t=e.placement;return(0,Ye.jsx)(et.Z,(0,E.Z)((0,E.Z)({},n),{},{style:{transformOrigin:"bottom-start"===t?"left top":"left bottom"},children:(0,Ye.jsx)(nt.Z,{children:(0,Ye.jsx)(Xn.Z,{onClickAway:u,children:(0,Ye.jsxs)(rt.Z,{autoFocusItem:a,id:"composition-menu","aria-labelledby":"composition-button",onKeyDown:l,children:[(0,Ye.jsx)(ot.Z,{onClick:f,children:"\ub0b4 \ube14\ub85c\uadf8 \uc791\uc131"}),(0,Ye.jsx)(ot.Z,{disabled:!0,onClick:u,children:"\ub0b4 \uc815\ubcf4"}),(0,Ye.jsx)(ot.Z,{disabled:!0,onClick:u,children:"\ub85c\uadf8\uc544\uc6c3"})]})})})}))}})]}):(0,Ye.jsx)(pn.Z,{variant:"contained",style:{backgroundColor:"#FEE500",color:"#000000",borderRadius:"12px",width:"120px",marginLeft:"auto"},onClick:function(){var e="https://kauth.kakao.com/oauth/authorize?client_id=".concat(at,"&redirect_uri=").concat(st,"&response_type=code");window.location.href=e},children:"\uce74\uce74\uc624 \ub85c\uadf8\uc778"})]})]})})};var xt=function(){return(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)(Ke,{children:(0,Ye.jsx)(Tt,{})}),(0,Ye.jsx)(Me,{children:(0,Ye.jsxs)(h.Switch,{children:[(0,Ye.jsx)(h.Route,{path:"/todos",component:Vn}),(0,Ye.jsx)(h.Route,{path:"/",component:Sn})]})}),(0,Ye.jsx)(qe,{children:(0,Ye.jsx)(Je,{})})]})},pt=function(){var e=(0,h.useLocation)(),n=new URLSearchParams(e.search).get("code");return(0,r.useEffect)((function(){n&&Y().post("".concat("http://jingeuns.ml/api","/oauth/kakao"),{code:n}).then((function(e){m().set("token",e.data.access_token||""),window.location.replace("https://jingeunee.github.io/dev-log/")})).catch((function(e){return console.log(e)}))}),[n]),null};var Et,gt=function(){return(0,Ye.jsx)(h.Switch,{children:(0,Ye.jsx)(h.Route,{path:"/oauth/callback/kakao",component:pt})})};var Ct=p().div(Et||(Et=(0,s.Z)(["\n  position: absolute;\n  inset: 0px;\n  display: flex;\n  flex-flow: column nowrap;\n"]))),mt=function(){return(0,Ye.jsx)(d.ApolloProvider,{client:O,children:(0,Ye.jsx)(T.QueryClientProvider,{client:S,children:(0,Ye.jsx)(l.Provider,{store:Pe,children:(0,Ye.jsxs)(x.ThemeProvider,{theme:y,children:[(0,Ye.jsx)(u.ZP,{}),(0,Ye.jsx)(f.ToastContainer,{}),(0,Ye.jsx)(Ct,{children:(0,Ye.jsx)(h.BrowserRouter,{basename:"/dev-log",children:(0,Ye.jsxs)(h.Switch,{children:[(0,Ye.jsx)(h.Route,{path:"/oauth",component:gt}),(0,Ye.jsx)(h.Route,{path:"/",component:xt})]})})})]})})})})},_t=function(e){e&&e instanceof Function&&t.e(165).then(t.t.bind(t,3165,23)).then((function(n){var t=n.getCLS,o=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),o(e),r(e),i(e),c(e)}))};a().render((0,Ye.jsx)(i().StrictMode,{children:(0,Ye.jsx)(mt,{})}),document.getElementById("root")),_t()}}]);
//# sourceMappingURL=419.fd802fb5.chunk.js.map